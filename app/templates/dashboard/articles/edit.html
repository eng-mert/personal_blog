{% extends './dashboard/base.html' %}

{% block content %}
<div class="container pt-4">
    <div class="row mb-4">
        <div class="col-12 col-md-8 mx-auto">
            <p class="fw-bolder">Edit {{article.title}} </p>
            <form action="{{url_for('dashboard.article.edit',record_id=article._id)}}" method="post" enctype="multipart/form-data">
                <input type="text" name="title" id="title" class="form-control form-control-lg mb-3"
                       placeholder="Heading" value="{{article.title}}">
                <select name="category" id="category" class="form-select mb-3">

                    {% for category in categories %}
                    <optgroup label="{{category.title}}">
                        {% for child in category.children %}
                        <option value="{{child._id}}">{{child.title}}</option>
                        {% endfor %}
                    </optgroup>
                    {% endfor %}
                </select>

                <div class="mb-3">
                    <label for="formFile" class="form-label">Cover Image</label>
                    <input class="form-control" type="file" id="formFile" name="cover">
                </div>
                <input type="text" name="tags" class="form-control mb-3" placeholder="Tags:tag1, tag2, tag3 ..." value="{{article.tags}}">

                <textarea  name="content" id="contentField" cols="30" rows="10" class="form-control mb-3">
                {{article.content|safe}}
                </textarea>

                <div class="form-check mb-3">
                    <input class="form-check-input" name="draft"  type="checkbox" value="draft" id="draftBox">
                    <label class="form-check-label" for="draftBox">
                        Draft
                    </label>
                </div>
                <input type="submit" value="Update" class="btn btn-primary">
            </form>
        </div>
    </div>
</div>
{% endblock %}


{% block scripts %}
<script>
    tinymce.init({
      selector: 'textarea',
      plugins: 'advlist autosave autolink lists link image charmap print preview hr anchor pagebreak code table codesample fullscreen toc',
      autosave_interval: '20s',
      toolbar_mode: 'floating',
      a11y_advanced_options: true,
    });




</script>
{% endblock %}